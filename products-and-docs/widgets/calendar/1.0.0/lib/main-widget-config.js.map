{"version":3,"sources":["../src/main-widget-config.es6"],"names":[],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\r\n\r\n    function getHeightByTheme(theme){\r\n        return (theme === 'simple' ? 286 : 339);\r\n    }\r\n\r\n    function getBorderByTheme(theme) {\r\n        switch (theme) {\r\n            case 'simple':\r\n                return 0;\r\n                break;\r\n            default:\r\n                return 2;\r\n        }\r\n    }\r\n\r\n    function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\r\n\r\n    let widget = widgetsCalendar[0],\r\n        themeConfig = {\r\n            sizes: {\r\n                standart: {\r\n                    width: 298,\r\n                    height: 400,\r\n                    layout: 'vertical',\r\n                    border: 1\r\n                }\r\n            },\r\n            initSliderSize: {\r\n                width: 298,\r\n                height: 330,\r\n                maxWidth: 300,\r\n                minWidth: 300\r\n            }\r\n        },\r\n        isPostalCodeChanged = false;\r\n\r\n    var $widthController = $('#w-width').slider({\r\n            tooltip: 'always',\r\n            handle: 'square'\r\n        }),\r\n        $borderRadiusController = $('#w-borderradius').slider({\r\n            tooltip: 'always',\r\n            handle: 'square'\r\n        }),\r\n        $colorSchemeSelector = $('.widget__color_scheme_control');\r\n\r\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\r\n        // $widthController.slider('relayout');\r\n        $borderRadiusController.slider('relayout');\r\n    });\r\n\r\n    var changeState = function(event){\r\n        if(!event.target.name || event.target.name === \"w-googleapikey\") return;\r\n\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            targetValue = event.target.value,\r\n            targetName = event.target.name,\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        if(targetName === \"w-keyword\"){\r\n            isPostalCodeChanged = true;\r\n            if (document.getElementById('w-keyword').value == '') {\r\n                document.getElementById('w-postalcode').value = '90015';\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-postalcode\"){\r\n            widgetNode.setAttribute('w-country', '');\r\n            isPostalCodeChanged = true;\r\n            if (document.getElementById('w-keyword').value == '' && document.getElementById('w-postalcode').value == '' ) {\r\n                document.getElementById('w-postalcode').value = '90015';\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-theme\"){\r\n            if(targetValue === 'simple'){\r\n                $colorSchemeSelector.hide();\r\n            }else{\r\n                $colorSchemeSelector.show();\r\n            }\r\n\r\n            if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n                widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\r\n            }\r\n            widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\r\n        }\r\n\r\n        if(targetName === \"w-layout\"){\r\n            let sizeConfig = themeConfig.initSliderSize;\r\n            if(targetValue === 'horizontal'){\r\n                sizeConfig = {\r\n                    width: 620,\r\n                    height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n                    maxWidth: 900,\r\n                    minWidth: 620\r\n                };\r\n            }\r\n\r\n            $widthController.slider({\r\n                setValue: sizeConfig.width ,\r\n                max: sizeConfig.maxWidth,\r\n                min: sizeConfig.minWidth\r\n            })\r\n                .slider('refresh');\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        //Check fixed sizes for 'simple' theme\r\n        if(targetName === \"w-proportion\") {\r\n            let widthSlider = $('.js_widget_width_slider');\r\n            let sizeConfig = {\r\n                width: themeConfig.sizes[targetValue].width,\r\n                height: themeConfig.sizes[targetValue].height,\r\n                maxWidth: 600,\r\n                minWidth: 350\r\n            };\r\n\r\n            //set layout\r\n            widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\r\n\r\n            if (targetValue !== 'custom') {\r\n                $tabButtons.slideUp(\"fast\");\r\n                widthSlider.slideUp(\"fast\");\r\n            }else{\r\n                $tabButtons.slideDown(\"fast\");\r\n                widthSlider.slideDown(\"fast\");\r\n                $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\r\n\r\n                sizeConfig = { //default size\r\n                    width: themeConfig.initSliderSize.width,  //350\r\n                    height: themeConfig.initSliderSize.height,  //600\r\n                    maxWidth: themeConfig.initSliderSize.maxWidth,  //500\r\n                    minWidth: themeConfig.initSliderSize.minWidth // 350\r\n                };\r\n                $widthController.slider({\r\n                    setValue: sizeConfig.width,\r\n                    max: sizeConfig.maxWidth,\r\n                    min: sizeConfig.minWidth\r\n                })\r\n                    .slider('refresh');\r\n\r\n            }\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        widgetNode.setAttribute(event.target.name, event.target.value);\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n\r\n\r\n        /*\r\n        widget.update().then(function() {\r\n            console.log('Update Done');\r\n            weekScheduler.update();\r\n            // monthScheduler.update();\r\n            // yearScheduler.update();\r\n        }, function(error) {\r\n            console.log(\"Error!\", error);\r\n        });\r\n        */\r\n    };\r\n\r\n    var resetWidget = function(configForm) {\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            height = 600,\r\n            theme,\r\n            layout;\r\n        const widthSlider = $('.js_widget_width_slider'),\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n            let $self = $(this),\r\n                data = $self.data(),\r\n                value = data.defaultValue;\r\n\r\n            if(data.sliderValue){\r\n                value = data.sliderValue;\r\n                $self.slider({\r\n                    setValue: value,\r\n                    max: data.sliderMax,\r\n                    min: data.sliderMin\r\n                })\r\n                    .slider('refresh');\r\n            }else{\r\n                $self.val(value);\r\n            }\r\n\r\n            widgetNode.setAttribute($self.attr('name'), value);\r\n        });\r\n\r\n        configForm.find(\"input[type='radio']\").each(function(){\r\n            var $self = $(this);\r\n            if($self.data('is-checked')){\r\n                let name = $self.attr('name'),\r\n                    val = $self.val();\r\n                if(name === 'w-theme'){\r\n                    theme = val;\r\n                }else if(name === 'w-layout'){\r\n                    layout = val;\r\n                }else if(name === 'w-proportion'){\r\n                    $tabButtons.slideDown(\"fast\");\r\n                    widthSlider.slideDown(\"fast\");\r\n                }\r\n                $self.prop('checked', true);\r\n                widgetNode.setAttribute($self.attr('name'), val);\r\n            }\r\n        });\r\n\r\n        if(layout === 'horizontal'){\r\n            height = getHeightByTheme(theme);\r\n        }\r\n        // widgetNode.setAttribute('w-height', height);\r\n        widgetNode.setAttribute('w-height', '400');\r\n        // widgetNode.setAttribute('w-border', 0);\r\n\r\n        $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\r\n        widget.onLoadCoordinate();\r\n        widget.update();\r\n    };\r\n\r\n    var $configForm = $(\".main-widget-config-form\"),\r\n        $widgetModal = $('#js_widget_modal'),\r\n        $widgetModalNoCode = $('#js_widget_modal_no_code');\r\n\r\n    $configForm.on(\"change\", changeState);\r\n    // Mobile devices. Force 'change' by 'Go' press\r\n    $configForm.on(\"submit\", function (e) {\r\n        $configForm.find('input:focus').trigger('blur');\r\n        e.preventDefault();\r\n    });\r\n\r\n    $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n        var $self = $(this);\r\n        $self.data('default-value', $self.val());\r\n    });\r\n\r\n    $configForm.find(\"input[type='radio']\").each(function(){\r\n        var $self = $(this);\r\n        if($self.is(':checked'))\r\n            $self.data('is-checked', 'checked');\r\n    });\r\n\r\n    $('.js_get_widget_code').on('click', function(){\r\n        var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n        var htmlCode = document.createElement(\"div\");\r\n        for(var key in widget.config){\r\n            if(key !== 'latlong'){\r\n                htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\r\n            }\r\n        }\r\n        // Use only Key from config form\r\n        htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\r\n        var tmp = document.createElement(\"div\");\r\n        tmp.appendChild(htmlCode);\r\n        codeCont.textContent = tmp.innerHTML;\r\n        $widgetModal.modal();\r\n    });\r\n\r\n\r\n    $('.js_reset_widget').on('click', function(){\r\n        resetWidget($configForm);\r\n    });\r\n\r\n    $('#js_widget_modal__close').on('click', function(){\r\n        $widgetModal.modal('hide');\r\n    });\r\n\r\n    $('#js_widget_modal_no_code__close').on('click', function(){\r\n        $widgetModalNoCode.modal('hide');\r\n    });\r\n\r\n    $('.js_widget__number').on('change', function (e) {\r\n        let $self = $(this),\r\n            val = $self.val().trim(),\r\n            max = parseInt($self.attr('max')),\r\n            min = parseInt($self.attr('min')),\r\n            required = !!$self.attr('required'),\r\n            regNumberOrEmpty = /^(\\s*|\\d+)$/,\r\n            errorCssClass = 'error';\r\n\r\n        // if(val === '') $self.val('');\r\n\r\n        if((max && val > max) || (min && val < min) || (required && val === '') || (!regNumberOrEmpty.test(val))){\r\n            $self.addClass(errorCssClass);\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }else{\r\n            $self.removeClass(errorCssClass);\r\n        }\r\n    });\r\n\r\n    widget.onLoadCoordinate = function (results, countryShortName = '') {\r\n        widget.config['country'] = countryShortName;\r\n        if(isPostalCodeChanged){\r\n            isPostalCodeChanged = false;\r\n\r\n            let $countrySelect = $('#w-country'),\r\n                $ul = $(\".js_widget_custom__list\"),\r\n                options = \"<option selected value=''>All</option>\";\r\n\r\n            $countrySelect.html('');\r\n            $ul.html(''); //clear custom select list\r\n            $countrySelect.prop('disabled', !results);\r\n            if(results){\r\n                $countrySelect.prop('disabled', !results.length);\r\n                options = '';\r\n                for(let i in results){\r\n                    let result = results[i];\r\n                    if(result.address_components){\r\n                        let country = result.address_components[result.address_components.length - 1];\r\n                        if(country){\r\n                            let isSelected = country.short_name === countryShortName ? 'selected' : '';\r\n                            options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            $countrySelect.append(options);\r\n            addCustomList($ul, '#w-country', countryShortName);\r\n        }\r\n    };\r\n\r\n    function addCustomList(listWrapperElement, listWrapperId, activeVal) {\r\n        var $listOption = $(listWrapperId).find('option'),//update list\r\n            $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\r\n            $ul = listWrapperElement;\r\n\r\n        $placeholder.val( $listOption.html() );\r\n\r\n        $listOption.each(function () {\r\n            var data = {\r\n                value: $(this).val()\r\n            };\r\n            $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\r\n        });\r\n    }\r\n\r\n})();"]}