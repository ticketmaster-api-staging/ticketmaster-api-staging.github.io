{"version":3,"sources":["../src/main-widget-config.es6"],"names":["DEFAULT_API_KEY","apiKeyService","checkApiKeyCookie","getApiWidgetsKey","getHeightByTheme","theme","getBorderByTheme","getGooleApiKey","code","getTmApiKey","document","getElementById","value","replaceApiKey","options","userKey","sessionStorage","getItem","inputApiKey","widgetNode","widget","attr","data","val","setAttribute","update","widgetsCalendar","weekScheduler","weekSchedulers","monthScheduler","monthSchedulers","yearScheduler","yearSchedulers","themeConfig","sizes","standart","width","height","layout","border","initSliderSize","maxWidth","minWidth","isPostalCodeChanged","$colorSchemeSelector","$","on","e","querySelector","changeState","event","target","name","cleanStyles","querySelectorAll","targetValue","targetName","$tabButtons","length","removeAttribute","getAttribute","parentNode","classList","add","remove","hide","show","customSheet","getElementsByTagName","undefined","removeChild","sizeConfig","$widthController","slider","setValue","max","min","widthSlider","slideUp","slideDown","prop","spinner","setTimeout","resetWidget","configForm","radiusParam","find","each","$self","defaultValue","sliderValue","sliderMax","sliderMin","map","item","removeClass","children","end","append","onLoadCoordinate","$configForm","$widgetModal","$widgetModalNoCode","$widgetModalMap","trigger","preventDefault","is","hasClass","codeCont","htmlCode","createElement","config","latlong","replace","key","googleKey","tmp","appendChild","textContent","innerHTML","modal","trim","parseInt","required","regNumberOrEmpty","errorCssClass","test","addClass","stopPropagation","countrycode","postalcode","city","results","countryShortName","$countrySelect","$ul","html","status","i","result","address_components","country","isSelected","short_name","long_name","addCustomList","listWrapperElement","listWrapperId","activeVal","$listOption","$placeholder","text","addEventListener","minicolors"],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\r\n\r\n    const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\r\n\r\n    function getHeightByTheme(theme){\r\n        return (theme === 'simple' ? 286 : 339);\r\n    }\r\n\r\n    function getBorderByTheme(theme) {\r\n        switch (theme) {\r\n            case 'simple':\r\n                return 0;\r\n                break;\r\n            default:\r\n                return 2;\r\n        }\r\n    }\r\n\r\n    function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\r\n\r\n    function getTmApiKey() {\r\n        return document.getElementById('w-tm-api-key').value;\r\n    }\r\n\r\n    var replaceApiKey = function (options) {\r\n        let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\r\n\r\n        if(userKey !== null) {\r\n            let {inputApiKey, widgetNode , widget } = options;\r\n            inputApiKey\r\n              .attr('value', userKey)\r\n              .data('userAPIkey', userKey)\r\n              .val(userKey);\r\n            widgetNode.setAttribute(\"w-tmapikey\", userKey);\r\n            widget.update();\r\n        }\r\n    };\r\n\r\n    let widget = widgetsCalendar[0],\r\n        weekScheduler = weekSchedulers[0] ,\r\n        monthScheduler =  monthSchedulers[0] ,\r\n        yearScheduler = yearSchedulers[0]  ,\r\n        themeConfig = {\r\n            sizes: {\r\n                standart: {\r\n                    width: 298,\r\n                    height: 400,\r\n                    layout: 'vertical',\r\n                    border: 1\r\n                }\r\n            },\r\n            initSliderSize: {\r\n                width: 298,\r\n                height: 330,\r\n                maxWidth: 300,\r\n                minWidth: 300\r\n            }\r\n        },\r\n        isPostalCodeChanged = false;\r\n\r\n    var $colorSchemeSelector = $('.widget__color_scheme_control');\r\n\r\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\r\n        // $widthController.slider('relayout');\r\n        // $borderRadiusController.slider('relayout');\r\n    });\r\n\r\n    //replace Api Key on init\r\n    replaceApiKey({\r\n        inputApiKey:$('#w-tm-api-key'),\r\n        widgetNode: document.querySelector(\"div[w-tmapikey]\"),\r\n        widget\r\n    });\r\n\r\n    var changeState = function(event){\r\n        if(!event.target.name || event.target.name === \"w-googleapikey\") return;\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            cleanStyles = [\r\n                document.querySelector(\".tabs\"),\r\n                document.querySelector(\".tabs-container\"),\r\n                document.querySelectorAll(\".tab\"),\r\n                document.querySelectorAll(\".tb\"),\r\n                document.querySelectorAll(\".selector-title\")\r\n            ],\r\n            targetValue = event.target.value,\r\n            targetName = event.target.name,\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        if(targetName === \"w-tm-api-key\") {\r\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', targetValue);\r\n\r\n            if (sessionStorage.getItem('tk-api-key')) {\r\n                document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n            }\r\n            if (document.getElementById('w-tm-api-key').value == '') {\r\n                if (sessionStorage.getItem('tk-api-key')) {\r\n                    document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n                    document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n                }\r\n                else {\r\n                    document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\r\n                    document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-keyword\"){\r\n            isPostalCodeChanged = true;\r\n            if (document.getElementById('w-keyword').value == '') {\r\n                document.getElementById('w-postalcode').value = '90015';\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-postalcode\"){\r\n            widgetNode.setAttribute('w-country', '');\r\n            isPostalCodeChanged = true;\r\n            if (document.getElementById('w-keyword').value == '' && document.getElementById('w-postalcode').value == '' ) {\r\n                document.getElementById('w-postalcode').value = '90015';\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\r\n            }\r\n            if (document.getElementById('w-postalcode').value.length <= 3) document.getElementById('w-postalcode').value = '90015';;\r\n        }\r\n\r\n        if(targetName === \"w-radius\"){\r\n            if (document.getElementById('w-radius').value == '') document.getElementById('w-radius').value = '5';\r\n\r\n        }\r\n\r\n        if(targetName === \"w-countryCode\"){\r\n            document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-latlong');\r\n            if (widgetNode.getAttribute('w-countrycode') != targetValue) {\r\n                document.getElementById(\"w-city\").value = '';\r\n                widgetNode.setAttribute('w-city', '');\r\n                if (targetValue == 'US') {\r\n                    document.getElementById(\"w-city\").value = 'Los Angeles';\r\n                    widgetNode.setAttribute('w-city', 'Los Angeles');\r\n                }\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-city\"){\r\n            if (targetValue == '') {\r\n                event.target.parentNode.classList.add(\"required\");\r\n                document.querySelector('.js_get_widget_code').classList.add('disabled');\r\n                return;\r\n            }\r\n            else {\r\n                event.target.parentNode.classList.remove(\"required\");\r\n                document.querySelector('.js_get_widget_code').classList.remove('disabled');\r\n            }\r\n        }\r\n        \r\n        if(targetName === \"w-theme\"){\r\n            if(targetValue === 'simple'){\r\n                $colorSchemeSelector.hide();\r\n            }else{\r\n                $colorSchemeSelector.show();\r\n            }\r\n\r\n            if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n                widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\r\n            }\r\n            widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\r\n        }\r\n\r\n        if(targetName === \"w-colorscheme\"){\r\n            if (targetValue === 'custom') {\r\n              $(\".widget__color_scheme_custom\").show();\r\n            } else {\r\n                $('.widget__color_scheme_custom').hide();\r\n                widgetNode.removeAttribute('w-background');\r\n                widgetNode.removeAttribute('w-textcolor');\r\n                widgetNode.removeAttribute('w-bordercolor');\r\n                widgetNode.removeAttribute('w-tabsbordercolor');\r\n                widgetNode.removeAttribute('w-tabsbordercolor');\r\n                widgetNode.removeAttribute('w-tabcolor');\r\n                widgetNode.removeAttribute('w-tabbackground');\r\n                widgetNode.removeAttribute('w-hovertabcolor');\r\n                widgetNode.removeAttribute('w-hovertabbackground');\r\n                widgetNode.removeAttribute('w-selectorcolorhover');\r\n                widgetNode.removeAttribute('w-datesbackground');\r\n                widgetNode.removeAttribute('w-datescolor');\r\n                widgetNode.removeAttribute('w-datescolorhover');\r\n                let customSheet = document.querySelector('div[w-type=\"calendar\"]').getElementsByTagName('style')[0];\r\n                if (customSheet != undefined) {\r\n                    customSheet.parentNode.removeChild(customSheet);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (targetName === \"w-background\") {\r\n            widgetNode.setAttribute('w-background', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-textcolor\") {\r\n            widgetNode.setAttribute('w-textcolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-bordercolor\") {\r\n            widgetNode.setAttribute('w-bordercolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-tabsbordercolor\") {\r\n            widgetNode.setAttribute('w-tabsbordercolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-tabcolor\") {\r\n            widgetNode.setAttribute('w-tabcolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-tabbackground\") {\r\n            widgetNode.setAttribute('w-tabbackground', this.value);\r\n        }\r\n        \r\n\r\n        if (targetName === \"w-hovertabcolor\") {\r\n            widgetNode.setAttribute('w-hovertabcolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-hovertabbackground\") {\r\n            widgetNode.setAttribute('w-hovertabbackground', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-selectorcolorhover\") {\r\n            widgetNode.setAttribute('w-selectorcolorhover', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-datesbackground\") {\r\n            widgetNode.setAttribute('w-datesbackground', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-datescolor\") {\r\n            widgetNode.setAttribute('w-datescolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-datescolorhover\") {\r\n            widgetNode.setAttribute('w-datescolorhover', this.value);\r\n        }\r\n\r\n\r\n        if(targetName === \"w-layout\"){\r\n            let sizeConfig = themeConfig.initSliderSize;\r\n            if(targetValue === 'horizontal'){\r\n                sizeConfig = {\r\n                    width: 620,\r\n                    height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n                    maxWidth: 900,\r\n                    minWidth: 620\r\n                };\r\n            }\r\n\r\n            $widthController.slider({\r\n                setValue: sizeConfig.width ,\r\n                max: sizeConfig.maxWidth,\r\n                min: sizeConfig.minWidth\r\n            })\r\n                .slider('refresh');\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        //Check fixed sizes for 'simple' theme\r\n        if(targetName === \"w-proportion\") {\r\n            let widthSlider = $('.js_widget_width_slider');\r\n            let sizeConfig = {\r\n                width: themeConfig.sizes[targetValue].width,\r\n                height: themeConfig.sizes[targetValue].height,\r\n                maxWidth: 600,\r\n                minWidth: 350\r\n            };\r\n\r\n            //set layout\r\n            widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\r\n\r\n            if (targetValue !== 'custom') {\r\n                $tabButtons.slideUp(\"fast\");\r\n                widthSlider.slideUp(\"fast\");\r\n            }else{\r\n                $tabButtons.slideDown(\"fast\");\r\n                widthSlider.slideDown(\"fast\");\r\n                $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\r\n\r\n                sizeConfig = { //default size\r\n                    width: themeConfig.initSliderSize.width,  //350\r\n                    height: themeConfig.initSliderSize.height,  //600\r\n                    maxWidth: themeConfig.initSliderSize.maxWidth,  //500\r\n                    minWidth: themeConfig.initSliderSize.minWidth // 350\r\n                };\r\n                $widthController.slider({\r\n                    setValue: sizeConfig.width,\r\n                    max: sizeConfig.maxWidth,\r\n                    min: sizeConfig.minWidth\r\n                })\r\n                    .slider('refresh');\r\n\r\n            }\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        widgetNode.setAttribute(event.target.name, event.target.value);\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n\r\n\r\n        /*\r\n        widget.update().then(function() {\r\n            console.log('Update Done');\r\n            weekScheduler.update();\r\n            // monthScheduler.update();\r\n            // yearScheduler.update();\r\n        }, function(error) {\r\n            console.log(\"Error!\", error);\r\n        });\r\n        */\r\n    };\r\n\r\n    var resetWidget = function(configForm) {\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            radiusParam = document.querySelector(\"div[w-radius]\"),\r\n            height = 600,\r\n            theme,\r\n            layout;\r\n        const widthSlider = $('.js_widget_width_slider'),\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n            let $self = $(this),\r\n                data = $self.data(),\r\n                value = data.defaultValue;\r\n\r\n            if(data.sliderValue){\r\n                value = data.sliderValue;\r\n                $self.slider({\r\n                    setValue: value,\r\n                    max: data.sliderMax,\r\n                    min: data.sliderMin\r\n                })\r\n                    .slider('refresh');\r\n            }else{\r\n                $self.val(value);\r\n            }\r\n            [\"#w-countryCode\",\"#w-source\"].map((item)=> {\r\n                $(item).prop(\"selectedIndex\", 0);\r\n            });\r\n\r\n            widgetNode.setAttribute($self.attr('name'), value);\r\n            if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\r\n        });\r\n\r\n        configForm.find(\"input[type='radio']\").each(function(){\r\n            var $self = $(this);\r\n            if($self.data('is-checked')){\r\n                let name = $self.attr('name'),\r\n                    val = $self.val();\r\n                if(name === 'w-theme'){\r\n                    theme = val;\r\n                }else if(name === 'w-layout'){\r\n                    layout = val;\r\n                }else if(name === 'w-proportion'){\r\n                    $tabButtons.slideDown(\"fast\");\r\n                    widthSlider.slideDown(\"fast\");\r\n                }\r\n                $self.prop('checked', true);\r\n                widgetNode.setAttribute($self.attr('name'), val);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        if(layout === 'horizontal'){\r\n            height = getHeightByTheme(theme);\r\n        }\r\n        // widgetNode.setAttribute('w-height', height);\r\n        widgetNode.setAttribute('w-height', '400');\r\n        // widgetNode.setAttribute('w-border', 0);\r\n\r\n        $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\r\n        $('#w-country').children().remove().end().append('<option selected value=\"US\">United States</option>');\r\n        $('#w-country').attr('disabled', 'disabled');\r\n        $('.custom_select__list li').removeClass('custom_select__item-active');//reset custom select\r\n        radiusParam.setAttribute('w-radius', '25');\r\n        $('#w-tm-api-key').val( DEFAULT_API_KEY) ;//set apikey\r\n        widget.onLoadCoordinate();\r\n        widget.update();\r\n    };\r\n\r\n    var $configForm = $(\".main-widget-config-form\"),\r\n        $widgetModal = $('#js_widget_modal'),\r\n        $widgetModalNoCode = $('#js_widget_modal_no_code'),\r\n        $widgetModalMap = $('#js_widget_modal_map');\r\n\r\n    $configForm.on(\"change\", changeState);\r\n    // Mobile devices. Force 'change' by 'Go' press\r\n    $configForm.on(\"submit\", function (e) {\r\n        $configForm.find('input:focus').trigger('blur');\r\n        e.preventDefault();\r\n    });\r\n\r\n    $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n        var $self = $(this);\r\n        $self.data('default-value', $self.val());\r\n    });\r\n\r\n    $configForm.find(\"input[type='radio']\").each(function(){\r\n        var $self = $(this);\r\n        if($self.is(':checked'))\r\n            $self.data('is-checked', 'checked');\r\n    });\r\n\r\n    if (sessionStorage.getItem('tk-api-key')) {\r\n        document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n    }\r\n    if (document.getElementById('w-tm-api-key').value == '') {\r\n        if (sessionStorage.getItem('tk-api-key')) {\r\n            document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n        }\r\n        else {\r\n            document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\r\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\r\n        }\r\n    }    \r\n\r\n    $('.js_get_widget_code').on('click', function(){\r\n        if ($(this).hasClass('disabled')) return;\r\n        var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n        var htmlCode = document.createElement(\"div\");\r\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n        for(var key in widget.config){\r\n            if(key !== 'country'){\r\n                htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\r\n            }\r\n        }\r\n        // Use only Key from config form\r\n        var googleKey = 'YOUR_GOOGLE_API_KEY';\r\n        htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\r\n        htmlCode.setAttribute('w-tmapikey', getTmApiKey());\r\n        /*\r\n        if (document.getElementById('w-googleapikey').value != '') {\r\n            googleKey = document.getElementById('w-googleapikey').value;\r\n            htmlCode.setAttribute('w-googleapikey', googleKey);\r\n        } else {\r\n            htmlCode.setAttribute('w-googleapikey', googleKey);\r\n        }\r\n        */\r\n        htmlCode.setAttribute('w-googleapikey', googleKey);\r\n        var tmp = document.createElement(\"div\");\r\n        tmp.appendChild(htmlCode);\r\n        codeCont.textContent = tmp.innerHTML;\r\n        $widgetModal.modal();\r\n    });\r\n\r\n\r\n    $('.js_reset_widget').on('click', function(){\r\n        resetWidget($configForm);\r\n    });\r\n\r\n    $('#js_widget_modal__close').on('click', function(){\r\n        $widgetModal.modal('hide');\r\n    });\r\n\r\n    $('#js_widget_modal_no_code__close').on('click', function(){\r\n        $widgetModalNoCode.modal('hide');\r\n    });\r\n\r\n    $('.js_widget__number').on('change', function (e) {\r\n        let $self = $(this),\r\n            val = $self.val().trim(),\r\n            max = parseInt($self.attr('max')),\r\n            min = parseInt($self.attr('min')),\r\n            required = !!$self.attr('required'),\r\n            regNumberOrEmpty = /^(\\s*|\\d+)$/,\r\n            errorCssClass = 'error';\r\n\r\n        // if(val === '') $self.val('');\r\n\r\n        if((max && val > max) || (min && val < min) || (required && val === '') || (!regNumberOrEmpty.test(val))){\r\n            $self.addClass(errorCssClass);\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }else{\r\n            $self.removeClass(errorCssClass);\r\n        }\r\n    });\r\n\r\n    $('#js_widget_modal_map__open').on('click', function(e){\r\n        e.preventDefault();\r\n        $widgetModalMap.modal();\r\n    });\r\n\r\n    $('#js_widget_modal_map__close').on('click', function(){\r\n        $widgetModalMap.modal('hide');\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n    });\r\n\r\n    $('.widget__location span').on('click', function(){\r\n        $('.widget__location').addClass('hidn');\r\n        $('.widget__latlong').removeClass('hidn');\r\n        document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\r\n        document.getElementById('h-postalcodeapi').value = document.getElementById('w-postalcodeapi').value;\r\n        document.getElementById('h-city').value = document.getElementById('w-city').value;\r\n        document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\r\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', widget.config.latlong);\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-countrycode');\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-postalcodeapi');\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-city');\r\n        widget.config.countrycode = '';\r\n        widget.config.postalcode = '';\r\n        widget.config.city = '';\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n    });\r\n\r\n    $('.widget__latlong span').on('click', function(){\r\n        $('.widget__latlong').addClass('hidn');\r\n        $('.widget__location').removeClass('hidn');\r\n        document.getElementById('h-latlong').value = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n        document.getElementById('w-latlong').value = '';\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-latlong');\r\n        document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\r\n        document.getElementById('w-postalcodeapi').value = document.getElementById('h-postalcodeapi').value;\r\n        document.getElementById('w-city').value = document.getElementById('h-city').value;\r\n        widget.config.countrycode = document.getElementById('w-countryCode').value;\r\n        widget.config.postalcode = document.getElementById('w-postalcodeapi').value;\r\n        widget.config.city = document.getElementById('w-city').value;\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-countrycode', widget.config.countrycode);\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-postalcodeapi', widget.config.postalcode);\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-city', widget.config.city);\r\n        widget.config.latlong = '';\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n    });\r\n\r\n    widget.onLoadCoordinate = function (results, countryShortName = '') {\r\n        widget.config['country'] = countryShortName;\r\n        if(isPostalCodeChanged){\r\n            isPostalCodeChanged = false;\r\n\r\n            let $countrySelect = $('#w-country'),\r\n                $ul = $(\"#w-country .js_widget_custom__list\"),\r\n                options = \"<option selected value=''>All</option>\";\r\n\r\n            $countrySelect.html('');\r\n            $ul.html(''); //clear custom select list\r\n            $countrySelect.prop('disabled', !results);\r\n\r\n            if(results){\r\n                let status;\r\n                if (results.length <=1) status = true;\r\n                else status = false;\r\n                $countrySelect.prop('disabled', status);\r\n                // $countrySelect.prop('disabled', !results.length);\r\n                options = '';\r\n                for(let i in results){\r\n                    let result = results[i];\r\n                    if(result.address_components){\r\n                        let country = result.address_components[result.address_components.length - 1];\r\n                        if(country){\r\n                            let isSelected = country.short_name === countryShortName ? 'selected' : '';\r\n                            options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            $countrySelect.append(options);\r\n            addCustomList($ul, '#w-country', countryShortName);\r\n        }\r\n    };\r\n\r\n    function addCustomList(listWrapperElement, listWrapperId, activeVal) {\r\n        var $listOption = $(listWrapperId).find('option'),//update list\r\n            $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\r\n            // $ul = listWrapperElement;\r\n            $ul = $('.country-select .custom_select__list');\r\n\r\n        $placeholder.val( $listOption.html() );\r\n\r\n        $($ul).html('');\r\n\r\n        $listOption.each(function () {\r\n            var data = {\r\n                value: $(this).val()\r\n            };\r\n            $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\r\n        });\r\n    }\r\n\r\n    document.getElementById('w-borderradius').addEventListener('blur', function(e) {\r\n        if(this.value < 0 || this.value > 50) {\r\n            this.value = 4;\r\n            let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n            widgetNode.setAttribute('w-borderradius', '4');\r\n            widget.update();\r\n        }\r\n    });\r\n\r\n    $('input.color-picker').minicolors(); \r\n\r\n\r\n})();\r\n"]}