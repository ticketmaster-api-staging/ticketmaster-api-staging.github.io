{"version":3,"file":"./products-and-docs/widgets/event-discovery/1.0.0/lib/main-widget-config.js","sources":["webpack:///webpack/bootstrap f9b4aadaa797bf9378d0","webpack:///products-and-docs/widgets/event-discovery/1.0.0/src/main-widget-config.es6"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f9b4aadaa797bf9378d0","(function(){\r\n\r\n  const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\r\n\r\n  function getHeightByTheme(theme){\r\n    return (theme === 'simple' ? 286 : 339);\r\n  }\r\n\r\n  function getBorderByTheme(theme) {\r\n    switch (theme) {\r\n      case 'simple':\r\n        return 0;\r\n        break;\r\n      default:\r\n        return 2;\r\n    }\r\n  }\r\n\r\n  function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\r\n\r\n  let widget = widgetsLib.widgetsEventDiscovery[0],\r\n      themeConfig = {\r\n        sizes: {\r\n          s: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horizontal'\r\n          },\r\n          m: {\r\n            width: 300,\r\n            height: 250,\r\n            layout: 'vertical'\r\n          },\r\n          l: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horizontal'\r\n          },\r\n          xl: {\r\n            width: 160,\r\n            height: 300,\r\n            layout: 'horizontal'\r\n          },\r\n          xxl: {\r\n            width: 300,\r\n            height: 600,\r\n            layout: 'vertical'\r\n          },\r\n          custom: {\r\n            width: 350,\r\n            height: 600,\r\n            layout: 'vertical'\r\n          }\r\n        },\r\n        initSliderSize: {\r\n          width: 350,\r\n          height: 600,\r\n          maxWidth: 500,\r\n          minWidth: 350\r\n        }\r\n      },\r\n      isPostalCodeChanged = false;\r\n\r\n  /*\r\n  var $widthController = $('#w-width').slider({\r\n        tooltip: 'always',\r\n        handle: 'square'\r\n      }),\r\n\r\n      $borderRadiusController = $('#w-borderradius').slider({\r\n        tooltip: 'always',\r\n        handle: 'square'\r\n      }),\r\n      */\r\n      var $colorSchemeSelector = $('.widget__color_scheme_control');\r\n\r\n  $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\r\n    // $widthController.slider('relayout');\r\n    /* $borderRadiusController.slider('relayout'); */\r\n    windowScroll(); //recalculate widget container position\r\n  });\r\n\r\n  //variables for fixed widget\r\n  var $window = $(window),\r\n      $containerWidget = $(\".widget-container-wrapper\"),\r\n      $configBlock = $(\".config-block\"),\r\n      window_min = 0,\r\n      window_max = 0,\r\n      desktopWidth = 1200,\r\n      threshold_offset = 50;\r\n  /*\r\n   set the container's maximum and minimum limits as well as movement thresholds\r\n   */\r\n  function setLimits(){\r\n    //max and min container movements\r\n    var topCss = ($containerWidget.css(\"top\")>0) ? parseInt($containerWidget.css(\"top\")) : 0;\r\n    var headerOffset = $('.top-bar').height() + /*padding of top-bar*/8 + /*bottom-margin*/10;\r\n    var max_move = $configBlock.offset().top + $configBlock.height() - $containerWidget.height() - topCss - headerOffset;\r\n    var min_move = $configBlock.offset().top - headerOffset;\r\n\r\n    $containerWidget\r\n        .data('min', min_move)\r\n        .data('max', max_move);\r\n\r\n    //window thresholds so the movement isn't called when its not needed!\r\n    window_min = min_move - threshold_offset;\r\n    window_max = max_move + $containerWidget.height() + threshold_offset;\r\n  }\r\n  //sets the limits for the first load\r\n  setLimits();\r\n\r\n  function windowScroll(){\r\n    let innerWidth = window.innerWidth;\r\n    let j = 0;\r\n    function updateScroll() {\r\n      //if the window is within the threshold, begin movements\r\n      if ($window.scrollTop() >= window_min && $window.scrollTop() < window_max) {\r\n        if ($containerWidget.height() < $configBlock.height() && innerWidth >= desktopWidth) {\r\n          //reset the limits (optional)\r\n          setLimits();\r\n          //move the container\r\n          containerMove();\r\n        }\r\n      }\r\n      j++;\r\n    }\r\n    if(j === 0) updateScroll();\r\n\r\n    setTimeout(() => {\r\n      if (innerWidth < desktopWidth && $containerWidget.height() > $configBlock.height()) {\r\n        // console.log('*** ', j , innerWidth ,'<', desktopWidth );\r\n        containerMove_clearOffset();\r\n        updateScroll();\r\n      }\r\n      if($containerWidget.height() < $configBlock.height() || innerWidth >= desktopWidth) {\r\n        // console.log('ignore ',j);\r\n        if( innerWidth < desktopWidth ){\r\n          containerMove_clearOffset();\r\n        }\r\n        updateScroll();\r\n      }\r\n    }, 200);\r\n\r\n  }\r\n\r\n  $window.on(\"scroll load resize\", windowScroll);\r\n\r\n  /**\r\n   * Clear top offset of widget container\r\n   */\r\n  function containerMove_clearOffset(){\r\n    $containerWidget.css(\"margin-top\", 0);\r\n  }\r\n  /**\r\n   * Handles moving the container if needed.\r\n   **/\r\n  function containerMove(){\r\n    let marginTop = 0;\r\n    const wst = $window.scrollTop(),\r\n        {min, max} = $containerWidget.data();\r\n\r\n    //if the window scroll is within the min and max (the container will be 'sticky';\r\n    if( wst >= min && wst <= max ){\r\n      //if the window scroll is below the minimum move it down!\r\n      marginTop = wst - min;\r\n    }else if( wst > max ){\r\n      marginTop = max - min;\r\n    }\r\n    $containerWidget.css('marginTop', (marginTop > 0 ? marginTop : 0));\r\n  }\r\n  //do one container move on load\r\n  containerMove();\r\n\r\n  var fullWidth = function(targetValue , widgetNode){\r\n    let widthSlider = $('.js_widget_width_slider'),\r\n        widgetContainerWrapper = $containerWidget,\r\n        widgetContainer = $(\".widget-container\", widgetContainerWrapper),\r\n        $border_slider = $('.js_widget_border_slider');\r\n\r\n    if(targetValue === 'fullwidth'){\r\n      // $layoutBox.slideUp();\r\n      widthSlider.slideUp(\"fast\");\r\n      // $borderRadiusController.slider('setValue', 0);\r\n      widgetNode.setAttribute('w-borderradius', 0);\r\n      $border_slider.slideUp(\"fast\");\r\n      widgetContainerWrapper.css({width: \"100%\"});\r\n      widgetContainer.css({ width: '100%' });\r\n      // widgetNode.setAttribute('w-height', 700);\r\n    }else {\r\n      // $layoutBox.slideDown(\"fast\");\r\n      widthSlider.hide();\r\n      $border_slider.hide();\r\n      // $borderRadiusController.slider('setValue', 4);\r\n      widgetNode.setAttribute('w-borderradius', 4);\r\n      widgetContainerWrapper.css({ width: 'auto' });\r\n      widgetContainer.css({ width: 'auto' });\r\n      //resetWidget($configForm );\r\n    }\r\n  };\r\n\r\n\r\n  var changeState = function(event){\r\n    if(!event.target.name || event.target.name === \"w-googleapikey\") return;\r\n\r\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n        targetValue = event.target.value,\r\n        targetName = event.target.name,\r\n        $tabButtons = $('.js-tab-buttons');\r\n\r\n    if(targetName === \"w-tm-api-key\") {    }\r\n\r\n    if(targetName === \"w-postalcodeapi\"){\r\n      widgetNode.setAttribute('w-country', '');\r\n      isPostalCodeChanged = true;\r\n\r\n      /*\r\n       var numInputClass = document.getElementById('w-radius');\r\n       var incArrow = event.target.parentNode.nextElementSibling.querySelector('div').querySelector('.arrow__inc');\r\n       var decArrow = event.target.parentNode.nextElementSibling.querySelector('div').querySelector('.arrow__dec');\r\n\r\n       if (targetValue == '') {\r\n       numInputClass.setAttribute('disabled', 'disabled');\r\n       numInputClass.value = '';\r\n       incArrow.classList.add('disabled');\r\n       decArrow.classList.add('disabled');\r\n       }\r\n       else {\r\n       numInputClass.removeAttribute('disabled');\r\n       numInputClass.value = '25';\r\n       incArrow.classList.remove('disabled');\r\n       decArrow.classList.remove('disabled');\r\n       widgetNode.setAttribute('w-radius', '25');\r\n       }\r\n       */\r\n    }\r\n\r\n    if(targetName === \"w-latlong\"){\r\n      if (targetValue == '') {\r\n        document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\r\n        targetValue = document.getElementById('w-latlong').value;\r\n      }\r\n      widgetNode.setAttribute('w-latlong', targetValue.replace(/\\s+/g, ''));\r\n    }\r\n\r\n    if(targetName === \"w-postalcodeapi\"){\r\n      widgetNode.setAttribute('w-country', '');\r\n      widgetNode.setAttribute('w-postalcodeapi', document.getElementById('w-postalcodeapi').value);\r\n      isPostalCodeChanged = true;\r\n    }\r\n\r\n    if (targetName === \"w-countryCode\" && widgetNode.getAttribute('w-countrycode') !== null) {\r\n        if (widgetNode.getAttribute('w-countrycode') != targetValue) {\r\n            document.getElementById(\"w-city\").value = '';\r\n            widgetNode.setAttribute('w-city', '');\r\n        }\r\n    }\r\n\r\n    if(targetName === \"w-theme\"){\r\n      if(targetValue === 'simple'){\r\n        $colorSchemeSelector.hide();\r\n      }else{\r\n        $colorSchemeSelector.show();\r\n      }\r\n\r\n      if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n        widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\r\n      }\r\n      widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\r\n    }\r\n\r\n    if(targetName === \"w-layout\"){\r\n      let sizeConfig = themeConfig.initSliderSize;\r\n      if(targetValue === 'horizontal'){\r\n        sizeConfig = {\r\n          width: 620,\r\n          height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n          maxWidth: 900,\r\n          minWidth: 620\r\n        };\r\n      }\r\n\r\n      fullWidth(targetValue, widgetNode);\r\n\r\n      if(targetValue !== 'fullwidth'){\r\n        \r\n        $('.js_widget_width_slider').slideDown(\"fast\");\r\n        $('.js_widget_border_slider').slideDown(\"fast\");\r\n        // $borderRadiusController.slider('setValue', 4);\r\n        widgetNode.setAttribute('w-borderradius', 4);\r\n        $containerWidget.css({ width: 'auto' });\r\n        $(\".widget-container\", $containerWidget).css({ width: 'auto' });\r\n\r\n        /*\r\n        $widthController.slider({\r\n          setValue: sizeConfig.width,\r\n          max: sizeConfig.maxWidth,\r\n          min: sizeConfig.minWidth\r\n        }).slider('refresh');\r\n        */\r\n      }\r\n            \r\n      widgetNode.setAttribute('w-width', sizeConfig.width);\r\n      widgetNode.setAttribute('w-height', sizeConfig.height);\r\n    }\r\n\r\n    //Check fixed sizes for 'simple' theme\r\n    if(targetName === \"w-proportion\") {\r\n      let widthSlider = $('.js_widget_width_slider');\r\n      let sizeConfig = {\r\n        width: themeConfig.sizes[targetValue].width,\r\n        height: themeConfig.sizes[targetValue].height,\r\n        maxWidth: 600,\r\n        minWidth: 350\r\n      };\r\n\r\n      //set width:'auto'\r\n      fullWidth(targetValue, widgetNode);\r\n\r\n      //set layout\r\n      widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\r\n\r\n      if (targetValue !== 'custom') {\r\n        $tabButtons.slideUp(\"fast\");\r\n        widthSlider.slideUp(\"fast\");\r\n      }else{\r\n        $tabButtons.slideDown(\"fast\");\r\n        widthSlider.slideDown(\"fast\");\r\n        $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\r\n\r\n        sizeConfig = { //default size\r\n          width: themeConfig.initSliderSize.width,  //350\r\n          height: themeConfig.initSliderSize.height,  //600\r\n          maxWidth: themeConfig.initSliderSize.maxWidth,  //500\r\n          minWidth: themeConfig.initSliderSize.minWidth // 350\r\n        };\r\n        /*\r\n        $widthController.slider({\r\n          setValue: sizeConfig.width,\r\n          max: sizeConfig.maxWidth,\r\n          min: sizeConfig.minWidth\r\n        })\r\n            .slider('refresh');\r\n         */\r\n      }\r\n      widgetNode.setAttribute('w-width', sizeConfig.width);\r\n      widgetNode.setAttribute('w-height', sizeConfig.height);\r\n    }\r\n\r\n    widgetNode.setAttribute(event.target.name, event.target.value);\r\n    document.getElementById('w-width').value = widgetNode.getAttribute('w-width');\r\n    document.getElementById('w-borderradius').value = widgetNode.getAttribute('w-borderradius');\r\n    widget.update();\r\n\r\n    windowScroll(); //recalculate widget container position\r\n  };\r\n\r\n  var resetWidget = function(configForm) {\r\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n        height = 600,\r\n        theme,\r\n        layout;\r\n    const widthSlider = $('.js_widget_width_slider'),\r\n        $tabButtons = $('.js-tab-buttons');\r\n\r\n    configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n      let $self = $(this),\r\n          data = $self.data(),\r\n          value = data.defaultValue;\r\n\r\n      if(data.sliderValue){\r\n        value = data.sliderValue;\r\n        $self.slider({\r\n          setValue: value,\r\n          max: data.sliderMax,\r\n          min: data.sliderMin\r\n        })\r\n            .slider('refresh');\r\n      }else{\r\n        $self.val(value);\r\n      }\r\n\r\n      try { document.getElementById(\"w-country\").disabled = true; }catch (e){}\r\n\r\n      var activeItems = document.querySelectorAll('.custom_select__item.custom_select__item-active');\r\n      var activeItemsLenght = activeItems.length;\r\n      for (let i = 0; i < activeItemsLenght; ++i) {\r\n        activeItems[i].classList.remove('custom_select__item-active');\r\n      }\r\n      \r\n      [\"#w-countryCode\",\"#w-source\"].map((item)=> {\r\n        $(item).prop(\"selectedIndex\", 0);\r\n      });\r\n      widgetNode.setAttribute($self.attr('name'), value);\r\n      if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\r\n\r\n    });\r\n\r\n    configForm.find(\"input[type='radio']\").each(function(){\r\n      var $self = $(this);\r\n      if($self.data('is-checked')){\r\n        let name = $self.attr('name'),\r\n            val = $self.val();\r\n        if(name === 'w-theme'){\r\n          theme = val;\r\n        }else if(name === 'w-layout'){\r\n          layout = val;\r\n        }else if(name === 'w-proportion'){\r\n          $tabButtons.slideDown(\"fast\");\r\n          widthSlider.slideDown(\"fast\");\r\n        }\r\n        $self.prop('checked', true);\r\n        widgetNode.setAttribute($self.attr('name'), val);\r\n      }\r\n    });\r\n\r\n    if(layout === 'horizontal'){\r\n      height = getHeightByTheme(theme);\r\n    }\r\n    widgetNode.setAttribute('w-height', height);\r\n    widgetNode.setAttribute('w-border', 0);\r\n    widgetNode.removeAttribute('w-countryCode');\r\n    widgetNode.removeAttribute('w-source');\r\n\r\n    $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\r\n    widget.onLoadCoordinate();\r\n    widget.update();\r\n  };\r\n\r\n  var $configForm = $(\".main-widget-config-form\"),\r\n      $widgetModal = $('#js_widget_modal'),\r\n      $widgetModalNoCode = $('#js_widget_modal_no_code'),\r\n      $widgetModalMap = $('#js_widget_modal_map');\r\n\r\n  $configForm.on(\"change\", changeState);\r\n  // Mobile devices. Force 'change' by 'Go' press\r\n  $configForm.on(\"submit\", function (e) {\r\n    $configForm.find('input:focus').trigger('blur');\r\n    e.preventDefault();\r\n  });\r\n\r\n  $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n    var $self = $(this);\r\n    $self.data('default-value', $self.val());\r\n  });\r\n\r\n  $configForm.find(\"input[type='radio']\").each(function(){\r\n    var $self = $(this);\r\n    if($self.is(':checked'))\r\n      $self.data('is-checked', 'checked');\r\n  });\r\n\r\n  $('.js_get_widget_code').on('click', function(){\r\n    var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n    var htmlCode = document.createElement(\"div\");\r\n    widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n    for(var key in widget.config){\r\n      if(key !== 'country'){\r\n        htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\r\n      }\r\n    }\r\n    // Use only Key from config form\r\n    htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\r\n    var tmp = document.createElement(\"div\");\r\n    tmp.appendChild(htmlCode);\r\n    codeCont.textContent = tmp.innerHTML;\r\n    $widgetModal.modal();\r\n  });\r\n\r\n\r\n  $('.js_reset_widget').on('click', function(){\r\n    resetWidget($configForm);\r\n  });\r\n\r\n  $('#js_widget_modal__close').on('click', function(){\r\n    $widgetModal.modal('hide');\r\n  });\r\n\r\n  $('#js_widget_modal_no_code__close').on('click', function(){\r\n    $widgetModalNoCode.modal('hide');\r\n  });\r\n\r\n  $('#js_widget_modal_map__open').on('click', function(e){\r\n    e.preventDefault();\r\n    $widgetModalMap.modal();\r\n  });\r\n\r\n  $('#js_widget_modal_map__close').on('click', function(){\r\n    $widgetModalMap.modal('hide');\r\n    document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\r\n    widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n    widget.update();\r\n  });\r\n\r\n  $('.widget__location span').on('click', function(){\r\n    $('.widget__location').addClass('hidn');\r\n    $('.widget__latlong').removeClass('hidn');\r\n    document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\r\n    document.getElementById('h-postalcodeapi').value = document.getElementById('w-postalcodeapi').value;\r\n    document.getElementById('h-city').value = document.getElementById('w-city').value;\r\n    document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\r\n    widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n    document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-latlong', widget.config.latlong);\r\n    document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-countrycode');\r\n    document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-postalcodeapi');\r\n    document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-city');\r\n    widget.update();\r\n  });\r\n\r\n  $('.widget__latlong span').on('click', function(){\r\n    $('.widget__latlong').addClass('hidn');\r\n    $('.widget__location').removeClass('hidn');\r\n    document.getElementById('h-latlong').value = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n    document.getElementById('w-latlong').value = '';\r\n    document.querySelector('[w-type=\"event-discovery\"]').removeAttribute('w-latlong');\r\n    document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\r\n    document.getElementById('w-postalcodeapi').value = document.getElementById('h-postalcodeapi').value;\r\n    document.getElementById('w-city').value = document.getElementById('h-city').value;\r\n    widget.config.countrycode = document.getElementById('w-countryCode').value;\r\n    widget.config.postalcode = document.getElementById('w-postalcodeapi').value;\r\n    widget.config.city = document.getElementById('w-city').value;\r\n    document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-countrycode', widget.config.countrycode);\r\n    document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-postalcodeapi', widget.config.postalcode);\r\n    document.querySelector('[w-type=\"event-discovery\"]').setAttribute('w-city', widget.config.city);\r\n    widget.config.latlong = '';\r\n    widget.update();\r\n  });\r\n\r\n  widget.onLoadCoordinate = function (results, countryShortName = '') {\r\n    widget.config['country'] = countryShortName;\r\n    if(isPostalCodeChanged){\r\n      isPostalCodeChanged = false;\r\n\r\n      let $countrySelect = $('#w-country'),\r\n          $ul = $(\".country-select .js_widget_custom__list\"),\r\n          options = \"<option selected value=''>All</option>\";\r\n\r\n      $countrySelect.html('');\r\n      $ul.html(''); //clear custom select list\r\n      $countrySelect.prop('disabled', !results);\r\n      if(results){\r\n        let status;\r\n        if (results.length <=1) status = true;\r\n        else status = false;\r\n        $countrySelect.prop('disabled', status);\r\n        // $countrySelect.prop('disabled', !results.length);\r\n        options = '';\r\n        for(let i in results){\r\n          let result = results[i];\r\n          if(result.address_components){\r\n            let country = result.address_components[result.address_components.length - 1];\r\n            if(country){\r\n              let isSelected = country.short_name === countryShortName ? 'selected' : '';\r\n              options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      $countrySelect.append(options);\r\n      addCustomList($ul, '#w-country', countryShortName);\r\n    }\r\n  };\r\n\r\n  function addCustomList(listWrapperElement, listWrapperId, activeVal) {\r\n    var $listOption = $(listWrapperId).find('option'),//update list\r\n        $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\r\n        $ul = listWrapperElement;\r\n\r\n    $placeholder.val( $listOption.html() );\r\n\r\n    $listOption.each(function () {\r\n      var data = {\r\n        value: $(this).val()\r\n      };\r\n      $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\r\n    });\r\n  }\r\n\r\n  // clearDropDownInput(['#w-countryCode','#w-source']);\r\n  function clearDropDownInput(elemIds) {\r\n    elemIds.map((item)=> {\r\n      $(item).val('');\r\n    } );\r\n  }\r\n\r\n\r\n  // Set min widget size on mobile devices\r\n  if(parseInt($(window).width(), 10) < 767){\r\n    $('#w-fixed-300x250').trigger('click');\r\n  }\r\n\r\n   document.getElementById('w-width').addEventListener('blur', function(e) {\r\n       if(this.value < 350 || this.value > 1920) {\r\n         this.value = 350;\r\n         let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n         widgetNode.setAttribute('w-width', '350');\r\n         document.querySelector('.events-root-container').style.width = '350px';\r\n         widget.update();\r\n       }\r\n   });\r\n\r\n    document.getElementById('w-borderradius').addEventListener('blur', function(e) {\r\n        if(this.value < 0 || this.value > 50) {\r\n            this.value = 4;\r\n            let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n            widgetNode.setAttribute('w-borderradius', '4');\r\n            widget.update();\r\n        }\r\n    });\r\n\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// products-and-docs/widgets/event-discovery/1.0.0/src/main-widget-config.es6"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AA1BA;AAgCA;AACA;AACA;AACA;AACA;AAJA;AAjCA;AADA;AACA;AA0CA;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;A","sourceRoot":""}