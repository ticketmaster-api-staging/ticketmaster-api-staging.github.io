{"version":3,"sources":["../src/main-widget-config.es6"],"names":[],"mappings":"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","file":"main-widget-config.js","sourcesContent":["(function(){\r\n\r\n  var config = {\"ak\":\"KRUnjq8y8Sg5eDpP90dNzOK70d4WiUst\",\"kw\":\"Def\",\"t\":{\"n\":\"t1\",\"b\":false,\"h\":550,\"w\":350,\"br\":4}};\r\n\r\n  var changeState = function(event){\r\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n\r\n    function getHeightByTheme(theme){\r\n      return (theme === 'simple' ? 238 : 300);\r\n    }\r\n\r\n    if(event.target.name === \"w-theme\"){\r\n      var $layoutSelectors = $('#w-colorscheme-light, #w-colorscheme-dark');\r\n      if(event.target.value === 'simple'){\r\n        $layoutSelectors.prop('disabled', true);\r\n      }else{\r\n        $layoutSelectors.prop('disabled', false);\r\n      }\r\n\r\n      if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n        widgetNode.setAttribute('w-height', getHeightByTheme(event.target.value));\r\n      }\r\n    }\r\n\r\n    if(event.target.name === \"w-layout\"){\r\n      let sizeConfig = {\r\n          width: 350,\r\n          height: 550,\r\n          maxWidth: 500,\r\n          minWidth: 350\r\n        };\r\n\r\n      if(event.target.value === 'horizontal'){\r\n        sizeConfig = {\r\n          width: 620,\r\n          height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n          maxWidth: 900,\r\n          minWidth: 620\r\n        };\r\n      }\r\n\r\n      $(\"#w-width\")\r\n        .attr({\r\n          max: sizeConfig.maxWidth,\r\n          min: sizeConfig.minWidth\r\n        })\r\n        .val(sizeConfig.width);\r\n\r\n      widgetNode.setAttribute('w-width', sizeConfig.width);\r\n      widgetNode.setAttribute('w-height', sizeConfig.height);\r\n    }\r\n\r\n    if(event.target.name === \"border\"){\r\n      //if(event.target.checked){\r\n      //  widgetNode.setAttribute(event.target.id, \"\");\r\n      //}\r\n      //else{\r\n      //  widgetNode.removeAttribute(event.target.id);\r\n      //}\r\n    }\r\n    else {\r\n      widgetNode.setAttribute(event.target.name, event.target.value);\r\n    }\r\n\r\n    widget.update();\r\n  };\r\n\r\n  var resetWidget = function(configForm) {\r\n    let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n    configForm.find(\"input[type='text'], input[type='range']\").each(function(){\r\n      let $self = $(this),\r\n        value = $self.data('default-value');\r\n      $self.val(value);\r\n      widgetNode.setAttribute($self.attr('name'), value);\r\n    });\r\n\r\n    configForm.find(\"input[type='radio']\").each(function(){\r\n      var $self = $(this);\r\n      if($self.data('is-checked')){\r\n        $self.prop('checked', true);\r\n        widgetNode.setAttribute($self.attr('name'), $self.val());\r\n      }\r\n    });\r\n\r\n    widget.update();\r\n  };\r\n\r\n  var $configForm = $(\".main-widget-config-form\"),\r\n      $widgetModal = $('#js_widget_modal'),\r\n      $widgetModalNoCode = $('#js_widget_modal_no_code');\r\n\r\n  $configForm.on(\"change\", changeState);\r\n\r\n  $configForm.find(\"input[type='text'], input[type='range']\").each(function(){\r\n    var $self = $(this);\r\n    $self.data('default-value', $self.val());\r\n  });\r\n\r\n  $configForm.find(\"input[type='radio']\").each(function(){\r\n    var $self = $(this);\r\n    if($self.is(':checked'))\r\n      $self.data('is-checked', 'checked');\r\n  });\r\n\r\n  $('#js_get_widget_code').on('click', function(){\r\n    var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n\r\n    var htmlCode = document.createElement(\"div\");\r\n    for(var key in widget.config){\r\n      htmlCode.setAttribute(\"w-\"+key,widget.config[key])\r\n    }\r\n    var tmp = document.createElement(\"div\");\r\n    tmp.appendChild(htmlCode);\r\n    codeCont.textContent = tmp.innerHTML;\r\n\r\n    $widgetModal.modal();\r\n  });\r\n\r\n\r\n  $('#js_reset_widget').on('click', function(){\r\n    resetWidget($configForm);\r\n  });\r\n\r\n  $('#js_widget_modal__close').on('click', function(){\r\n    $widgetModal.modal('hide');\r\n  });\r\n\r\n  $('#js_widget_modal_no_code__close').on('click', function(){\r\n    $widgetModalNoCode.modal('hide');\r\n  });\r\n\r\n  $(\"#w-size\").on(\"keypress\",function(event){\r\n    var kchar = String.fromCharCode(event.keyCode);\r\n    if(/[\\w\\d]/.test(kchar)){\r\n      if(/\\d/.test(kchar)){\r\n        var newVal = (this.value.substring(0, this.selectionStart)\r\n          + this.value.substring(this.selectionEnd)\r\n          + kchar)*1;\r\n        if(newVal > 100 || newVal < 1){\r\n          event.preventDefault();\r\n        }\r\n      }\r\n      else{\r\n        event.preventDefault();\r\n      }\r\n    }\r\n  });\r\n\r\n})();"]}